name: Testing GitHub Workflows

# DÃ©clenchement uniquement sur la branche LAB
on:
  push:
    branches:
      - LAB

# EmpÃªcher plusieurs exÃ©cutions en mÃªme temps sur la mÃªme branche
concurrency:
  group: pipeline-${{ github.ref }}
  cancel-in-progress: true

jobs:
  init:
    runs-on: ubuntu-latest
    steps:
      # Ã‰tape 1 : Initialisation
      - name: ğŸ”§ Initialisation
        run: echo "1ï¸âƒ£ Initialisation"

      # Ã‰tape 2 : RÃ©cupÃ©ration du code
      - name: ğŸ“¥ RÃ©cupÃ©ration du code
        run: echo "2ï¸âƒ£ RÃ©cupÃ©ration du code"

      # Ã‰tape 3 : Build
      - name: ğŸ—ï¸ Build
        run: echo "3ï¸âƒ£ Build"

      # Ã‰tape 4 : Build OK
      - name: âœ… Build terminÃ©
        if: success()
        run: echo "âœ… Build terminÃ© avec succÃ¨s"

      # Ã‰tape 5 : Tests
      - name: ğŸ§ª Tests
        if: success()
        run: echo "4ï¸âƒ£ Tests en cours"

      # Ã‰tape 6 : Packaging
      - name: ğŸ“¦ Packaging
        if: success()
        run: echo "5ï¸âƒ£ Packaging"

      # Ã‰tape 7 : Fin du pipeline
      - name: ğŸ‰ Pipeline terminÃ©
        run: echo "6ï¸âƒ£ Pipeline exÃ©cutÃ© avec succÃ¨s âœ…"

      # Ã‰tape finale : afficher le nom du runner
      - name: ğŸ–¥ï¸ Runner info
        run: echo "Hostname: $HOSTNAME"
